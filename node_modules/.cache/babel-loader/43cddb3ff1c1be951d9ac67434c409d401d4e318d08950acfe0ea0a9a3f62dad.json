{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1867319\\\\Documents\\\\GitHub\\\\H-2023-Projet-Synthese\\\\Service_Video\\\\react_js\\\\src\\\\screens\\\\client\\\\VideosScreen.js\",\n  _s = $RefreshSig$();\nimport { React, useEffect, useState } from 'react';\nimport Axios from 'axios';\nimport ForfaitsSideMenu from '../../components/forfaits/ForfaitsSideMenu';\nimport ForfaitsAllVideos from '../../components/forfaits/ForfaitsAllVideos';\n\n/**\r\n * Représente les vidéos que l'utilisateur à acheté dans ses forfaits.\r\n * C'est dans cette page qu'il peut naviguer à travers ses forfaits\r\n * et sélectionner les vidéos qu'il veut voir.\r\n * @returns \r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction VideosScreen() {\n  _s();\n  const [listeForfaitUtilisateur, setListeForfaitUtilisateur] = useState([]);\n  const [listeVideoUtilisateur, setListeVideoUtilisateur] = useState([]);\n  const updateSelect = idSelect => {\n    let newlistForfait = listeForfaitUtilisateur.slice();\n    newlistForfait.map(forfait => forfait.select = false);\n    newlistForfait.find(x => x.id === idSelect).select = true;\n    setListeForfaitUtilisateur(newlistForfait);\n  };\n  useEffect(() => {\n    getListeForfaitsUtilisateur();\n    getListeVideosUtilisateur();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-row justify-center w-full h-full mt-16\",\n    children: [/*#__PURE__*/_jsxDEV(ForfaitsSideMenu, {\n      listeForfaitUtilisateur: listeForfaitUtilisateur,\n      forfaitAffiche: listeForfaitUtilisateur.find(x => x.select),\n      updateSelect: id => updateSelect(id)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ForfaitsAllVideos, {\n      listeVideoUtilisateur: listeVideoUtilisateur,\n      forfaitAffiche: listeForfaitUtilisateur.find(x => x.select)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n\n  /**\r\n   * Retourne la liste de tout les forfaits que l'utilisateur possède.\r\n   */\n  function getListeForfaitsUtilisateur() {\n    Axios.get(process.env.REACT_APP_DOMAIN + \"/profilForfait\", {}).then(response => {\n      if (response.data.Forfait) {\n        const newlistForfaits = [];\n        response.data.Forfait.map((forfait, index) => {\n          newlistForfaits.push({\n            id: forfait.ID,\n            nomForfait: forfait.Nom,\n            description: forfait.Description,\n            select: index === 0 ? true : false\n          });\n          return null;\n        });\n        setListeForfaitUtilisateur(newlistForfaits);\n      }\n    });\n  }\n\n  /**\r\n   * Retourne la liste de tout les vidéos liés aux forfaits que l'utilisateur possède.\r\n   */\n  function getListeVideosUtilisateur() {\n    Axios.get(process.env.REACT_APP_DOMAIN + \"/videos\", {}).then(response => {\n      if (response.data.videos) {\n        const newlistVideos = [];\n        response.data.videos.map(video => {\n          newlistVideos.push({\n            idVideo: video.Id,\n            nomVideo: video.Titre,\n            description: video.Description,\n            imageUrl: video.Image,\n            videoUrl: video.Video,\n            idForfait: video.Forfait\n          });\n          return null;\n        });\n        setListeVideoUtilisateur(newlistVideos);\n      }\n    });\n  }\n}\n_s(VideosScreen, \"keMbGVFZRPLWLZ0BVI9H0IUgd4Q=\");\n_c = VideosScreen;\nexport default VideosScreen;\nvar _c;\n$RefreshReg$(_c, \"VideosScreen\");","map":{"version":3,"names":["React","useEffect","useState","Axios","ForfaitsSideMenu","ForfaitsAllVideos","jsxDEV","_jsxDEV","VideosScreen","_s","listeForfaitUtilisateur","setListeForfaitUtilisateur","listeVideoUtilisateur","setListeVideoUtilisateur","updateSelect","idSelect","newlistForfait","slice","map","forfait","select","find","x","id","getListeForfaitsUtilisateur","getListeVideosUtilisateur","className","children","forfaitAffiche","fileName","_jsxFileName","lineNumber","columnNumber","get","process","env","REACT_APP_DOMAIN","then","response","data","Forfait","newlistForfaits","index","push","ID","nomForfait","Nom","description","Description","videos","newlistVideos","video","idVideo","Id","nomVideo","Titre","imageUrl","Image","videoUrl","Video","idForfait","_c","$RefreshReg$"],"sources":["C:/Users/1867319/Documents/GitHub/H-2023-Projet-Synthese/Service_Video/react_js/src/screens/client/VideosScreen.js"],"sourcesContent":["import { React, useEffect, useState } from 'react';\r\nimport Axios from 'axios';\r\nimport ForfaitsSideMenu from '../../components/forfaits/ForfaitsSideMenu'\r\nimport ForfaitsAllVideos from '../../components/forfaits/ForfaitsAllVideos'\r\n\r\n/**\r\n * Représente les vidéos que l'utilisateur à acheté dans ses forfaits.\r\n * C'est dans cette page qu'il peut naviguer à travers ses forfaits\r\n * et sélectionner les vidéos qu'il veut voir.\r\n * @returns \r\n */\r\nfunction VideosScreen() {\r\n    const [listeForfaitUtilisateur, setListeForfaitUtilisateur] = useState([]);\r\n    const [listeVideoUtilisateur, setListeVideoUtilisateur] = useState([]);\r\n\r\n    const updateSelect = (idSelect) => {\r\n        let newlistForfait = listeForfaitUtilisateur.slice();\r\n        newlistForfait.map((forfait) =>\r\n            forfait.select = false\r\n        );\r\n        newlistForfait.find(x => x.id === idSelect).select = true;\r\n        setListeForfaitUtilisateur(newlistForfait);\r\n    };\r\n\r\n    useEffect(() => {\r\n        getListeForfaitsUtilisateur();\r\n        getListeVideosUtilisateur();\r\n    }, []);\r\n\r\n    return (\r\n        <div className='flex flex-row justify-center w-full h-full mt-16'>\r\n            <ForfaitsSideMenu listeForfaitUtilisateur={listeForfaitUtilisateur} forfaitAffiche={listeForfaitUtilisateur.find(x => x.select)} updateSelect={(id) => updateSelect(id)} />\r\n            <ForfaitsAllVideos listeVideoUtilisateur={listeVideoUtilisateur} forfaitAffiche={listeForfaitUtilisateur.find(x => x.select)} />\r\n        </div>\r\n    );\r\n\r\n    /**\r\n     * Retourne la liste de tout les forfaits que l'utilisateur possède.\r\n     */\r\n    function getListeForfaitsUtilisateur() {\r\n        Axios.get(process.env.REACT_APP_DOMAIN + \"/profilForfait\", {\r\n        }).then((response) => {\r\n            if (response.data.Forfait) {\r\n                const newlistForfaits = [];\r\n\r\n                response.data.Forfait.map((forfait, index) => {\r\n                    newlistForfaits.push({\r\n                        id: forfait.ID,\r\n                        nomForfait: forfait.Nom,\r\n                        description: forfait.Description,\r\n                        select: index === 0 ? true : false\r\n                    });\r\n                    return null;\r\n                });\r\n\r\n                setListeForfaitUtilisateur(newlistForfaits);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Retourne la liste de tout les vidéos liés aux forfaits que l'utilisateur possède.\r\n     */\r\n    function getListeVideosUtilisateur() {\r\n        Axios.get(process.env.REACT_APP_DOMAIN + \"/videos\", {\r\n        }).then((response) => {\r\n            if (response.data.videos) {\r\n                const newlistVideos = [];\r\n\r\n                response.data.videos.map((video) => {\r\n                    newlistVideos.push({\r\n                        idVideo: video.Id,\r\n                        nomVideo: video.Titre,\r\n                        description: video.Description,\r\n                        imageUrl: video.Image,\r\n                        videoUrl: video.Video,\r\n                        idForfait: video.Forfait\r\n                    });\r\n\r\n                    return null;\r\n                });\r\n\r\n                setListeVideoUtilisateur(newlistVideos);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport default VideosScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}