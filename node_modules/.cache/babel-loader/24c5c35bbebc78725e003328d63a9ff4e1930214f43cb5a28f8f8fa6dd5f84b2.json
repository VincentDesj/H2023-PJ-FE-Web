{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1867319\\\\Documents\\\\GitHub\\\\H-2023-Projet-Synthese\\\\Service_Video\\\\react_js\\\\src\\\\screens\\\\InscriptionScreen.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState } from 'react';\nimport Axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\n/**\r\n * Représente la page d'Inscription, permet la création de compte.\r\n * @param {object} props \r\n * @param {() => void} props.setIsLoggedIn callback sur la fonction de state setIsLoggedIn, pour le bool isLoggedIn.\r\n * @returns \r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction InscriptionScreen(props) {\n  _s();\n  const navigate = useNavigate();\n  const [prenom, setPrenom] = useState(\"\");\n  const [nom, setNom] = useState(\"\");\n  const [courriel, setCourriel] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const goToProfil = () => {\n    navigate(\"/profil\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-1/3\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col bg-white border rounded-2xl mt-16\",\n      children: [\"\\xAD\\xAD\", /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"flex flex-col pb-8 m-10\",\n        onSubmit: e => {\n          inscription(e);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-4xl mb-8\",\n          children: \"Nouvel utilisateur\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"mb-2\",\n          children: \"Pr\\xE9nom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"border rounded-2xl p-2 mb-4\",\n          type: \"text\",\n          name: \"prenom\",\n          onChange: e => {\n            setPrenom(e.target.value);\n          },\n          placeholder: \"Pr\\xE9nom\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"mb-2\",\n          children: \"Nom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"border rounded-2xl p-2 mb-4\",\n          type: \"text\",\n          name: \"nom\",\n          onChange: e => {\n            setNom(e.target.value);\n          },\n          placeholder: \"Nom\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"mb-2\",\n          children: \"Courriel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"border rounded-2xl p-2 mb-4\",\n          type: \"email\",\n          name: \"courriel\",\n          onChange: e => {\n            setCourriel(e.target.value);\n          },\n          placeholder: \"Courriel\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"mb-2\",\n          children: \"Mot de passe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"border rounded-2xl p-2 mb-4\",\n          type: \"password\",\n          name: \"password\",\n          onChange: e => {\n            setPassword(e.target.value);\n          },\n          placeholder: \"Mot de passe\",\n          required: true,\n          minLength: \"6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"bg-slate-500 hover:bg-slate-700 text-white font-bold py-2 px-4 rounded-2xl mt-7\",\n          type: \"submit\",\n          value: \"S'inscrire\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }, this);\n\n  /**\r\n   * Permet d'envoyer les informations inscrite dans la page au back-end pour créer un nouvel utilisateur.\r\n   * Si l'inscription réussi, la fonction login est lancé.\r\n   */\n  function inscription(e) {\n    e.preventDefault();\n    Axios.post(\"http://localhost:3001/homeInscription\", {\n      nom: nom,\n      prenom: prenom,\n      courriel: courriel,\n      motDePasse: password\n    }).then(response => {\n      if (response.data.Inscription) {\n        login(navigate);\n      }\n    });\n  }\n  ;\n\n  /**\r\n   * Permet de connecter un compte et d'obtenir une session avec le back-end.\r\n   * Transfere par la suite vers la page profil de l'utilisateur.\r\n   */\n  function login() {\n    Axios.post(\"http://localhost:3001/login\", {\n      courriel: courriel,\n      motDePasse: password\n    }).then(response => {\n      if (response.data.Succes) {\n        props.setIsLoggedIn(true);\n        goToProfil();\n      }\n    });\n  }\n  ;\n}\n_s(InscriptionScreen, \"rOwHm7poH/uICO+gVho8ecdmDAQ=\", false, function () {\n  return [useNavigate];\n});\n_c = InscriptionScreen;\nexport default InscriptionScreen;\nvar _c;\n$RefreshReg$(_c, \"InscriptionScreen\");","map":{"version":3,"names":["React","useState","Axios","useNavigate","jsxDEV","_jsxDEV","InscriptionScreen","props","_s","navigate","prenom","setPrenom","nom","setNom","courriel","setCourriel","password","setPassword","goToProfil","className","children","onSubmit","e","inscription","fileName","_jsxFileName","lineNumber","columnNumber","type","name","onChange","target","value","placeholder","required","minLength","preventDefault","post","motDePasse","then","response","data","Inscription","login","Succes","setIsLoggedIn","_c","$RefreshReg$"],"sources":["C:/Users/1867319/Documents/GitHub/H-2023-Projet-Synthese/Service_Video/react_js/src/screens/InscriptionScreen.js"],"sourcesContent":["import React from 'react';\r\nimport { useState } from 'react';\r\nimport Axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n/**\r\n * Représente la page d'Inscription, permet la création de compte.\r\n * @param {object} props \r\n * @param {() => void} props.setIsLoggedIn callback sur la fonction de state setIsLoggedIn, pour le bool isLoggedIn.\r\n * @returns \r\n */\r\nfunction InscriptionScreen(props) {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const [prenom, setPrenom] = useState(\"\");\r\n    const [nom, setNom] = useState(\"\");\r\n    const [courriel, setCourriel] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    const goToProfil = () => {navigate(\"/profil\");}\r\n\r\n    return (\r\n        <div className='w-1/3'>\r\n            <div className=\"flex flex-col bg-white border rounded-2xl mt-16\">­­\r\n                <form className='flex flex-col pb-8 m-10' onSubmit={(e) => { inscription(e) }}>\r\n                    <div className='text-center text-4xl mb-8'>Nouvel utilisateur</div>\r\n                    <label className='mb-2'>Prénom</label>\r\n                    <input className=\"border rounded-2xl p-2 mb-4\" type=\"text\" name=\"prenom\" onChange={(e) => { setPrenom(e.target.value) }} placeholder='Prénom' required />\r\n                    <label className='mb-2'>Nom</label>\r\n                    <input className=\"border rounded-2xl p-2 mb-4\" type=\"text\" name=\"nom\" onChange={(e) => { setNom(e.target.value) }} placeholder='Nom' required />\r\n                    <label className='mb-2'>Courriel</label>\r\n                    <input className=\"border rounded-2xl p-2 mb-4\" type=\"email\" name=\"courriel\" onChange={(e) => { setCourriel(e.target.value) }} placeholder='Courriel' required />\r\n                    <label className='mb-2'>Mot de passe</label>\r\n                    <input className=\"border rounded-2xl p-2 mb-4\" type=\"password\" name=\"password\" onChange={(e) => { setPassword(e.target.value) }} placeholder='Mot de passe' required minLength=\"6\" />\r\n\r\n                    <input className='bg-slate-500 hover:bg-slate-700 text-white font-bold py-2 px-4 rounded-2xl mt-7' type='submit' value=\"S'inscrire\" />\r\n                </form>\r\n                {\r\n                    //<NavLink to=\"/homeInscription\" className='btn btn-secondary'>Inscription</NavLink>\r\n                }\r\n\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n\r\n    /**\r\n     * Permet d'envoyer les informations inscrite dans la page au back-end pour créer un nouvel utilisateur.\r\n     * Si l'inscription réussi, la fonction login est lancé.\r\n     */\r\n    function inscription(e) {\r\n        e.preventDefault();\r\n        Axios.post(\"http://localhost:3001/homeInscription\", {\r\n            nom: nom,\r\n            prenom: prenom,\r\n            courriel: courriel,\r\n            motDePasse: password,\r\n        }).then((response) => {\r\n            if (response.data.Inscription) {\r\n                login(navigate)\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Permet de connecter un compte et d'obtenir une session avec le back-end.\r\n     * Transfere par la suite vers la page profil de l'utilisateur.\r\n     */\r\n    function login() {\r\n        Axios.post(\"http://localhost:3001/login\", {\r\n            courriel: courriel,\r\n            motDePasse: password,\r\n        }).then((response) => {\r\n            if (response.data.Succes) {\r\n                props.setIsLoggedIn(true);\r\n                goToProfil();\r\n            }\r\n        });\r\n    };\r\n}\r\n\r\n\r\n\r\nexport default InscriptionScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}