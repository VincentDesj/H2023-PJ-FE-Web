{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1867319\\\\Documents\\\\GitHub\\\\H-2023-Projet-Synthese\\\\Service_Video\\\\react_js\\\\src\\\\screens\\\\HomeScreen.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState } from 'react';\nimport Axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\n/**\r\n * Représente la page d'Accueil, plus précisement la connexion du compte au site.\r\n * @param {object} props \r\n * @param {() => void} props.setIsLoggedIn callback sur la fonction de state setIsLoggedIn, pour le bool isLoggedIn.\r\n * @returns \r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction HomeScreen(props) {\n  _s();\n  const navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [msgErreur, setMessageErreur] = useState(\"\");\n  const goToProfil = () => {\n    navigate(\"/profil\");\n  };\n  const goToInscription = () => {\n    navigate(\"/inscription\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-1/3\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col bg-white border rounded-2xl mt-16\",\n      children: [\"\\xAD\\xAD\", /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"flex flex-col pb-8 m-10\",\n        onSubmit: e => {\n          login(e);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-4xl mb-8\",\n          children: \"Bienvenue!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Courriel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"border rounded-2xl p-2\",\n          type: \"email\",\n          name: \"nom\",\n          onChange: e => {\n            setUsername(e.target.value);\n          },\n          placeholder: \"Courriel\",\n          defaultValue: \"q@q.qq\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Mot de passe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"border rounded-2xl p-2\",\n          type: \"password\",\n          name: \"motDePasse\",\n          onChange: e => {\n            setPassword(e.target.value);\n          },\n          placeholder: \"Mot de passe\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"bg-slate-500 hover:bg-slate-700 text-white font-bold py-2 px-4 rounded-2xl mt-7\",\n          type: \"submit\",\n          value: \"Connexion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-white border border-slate-500 hover:bg-gray-200 text-slate-500 font-bold py-2 px-4 rounded-2xl mt-7\",\n          onClick: () => {\n            goToInscription();\n          },\n          children: \"Inscription\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 21\n      }, this), msgErreur !== null && msgErreur !== void 0 ? msgErreur : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-500 font-extrabold text-center\",\n        children: msgErreur\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }, this);\n\n  /**\r\n   * La fonction login permet de tenter d'obtenir une session(connexion back-end) \r\n   * avec l'utilisateur et le mot de passe inscrit dans les champs respectifs.\r\n   * Si c'est un succès, l'utilisateur est transféré avers sa page profil, \r\n   * sinon il est présenté un message d'erreur.\r\n   */\n  function login(e) {\n    e.preventDefault();\n    Axios.post(\"http://localhost:3001/login\", {\n      courriel: username,\n      motDePasse: password\n    }).then(response => {\n      if (response.data.message === \"Mauvais courriel ou mot de passe!\") {\n        setMessageErreur(response.data.message);\n      } else {\n        props.handleLogAndRole(true, response.data.role);\n        goToProfil();\n      }\n    });\n  }\n  ;\n}\n_s(HomeScreen, \"+HCDN7+7yGGI2gJmj8v16aJ/oys=\", false, function () {\n  return [useNavigate];\n});\n_c = HomeScreen;\nexport default HomeScreen;\nvar _c;\n$RefreshReg$(_c, \"HomeScreen\");","map":{"version":3,"names":["React","useState","Axios","useNavigate","jsxDEV","_jsxDEV","HomeScreen","props","_s","navigate","username","setUsername","password","setPassword","msgErreur","setMessageErreur","goToProfil","goToInscription","className","children","onSubmit","e","login","fileName","_jsxFileName","lineNumber","columnNumber","type","name","onChange","target","value","placeholder","defaultValue","required","onClick","preventDefault","post","courriel","motDePasse","then","response","data","message","handleLogAndRole","role","_c","$RefreshReg$"],"sources":["C:/Users/1867319/Documents/GitHub/H-2023-Projet-Synthese/Service_Video/react_js/src/screens/HomeScreen.js"],"sourcesContent":["import React from 'react';\r\nimport { useState } from 'react';\r\nimport Axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n/**\r\n * Représente la page d'Accueil, plus précisement la connexion du compte au site.\r\n * @param {object} props \r\n * @param {() => void} props.setIsLoggedIn callback sur la fonction de state setIsLoggedIn, pour le bool isLoggedIn.\r\n * @returns \r\n */\r\nfunction HomeScreen(props) {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [msgErreur, setMessageErreur] = useState(\"\");\r\n\r\n    const goToProfil = () => {navigate(\"/profil\");}\r\n    const goToInscription = () => {navigate(\"/inscription\");}\r\n\r\n    return (\r\n        <div className='w-1/3'>\r\n            <div className=\"flex flex-col bg-white border rounded-2xl mt-16\">­­\r\n\r\n                    <form className='flex flex-col pb-8 m-10' onSubmit={(e) => { login(e) }}>    \r\n                        <div className='text-center text-4xl mb-8'>Bienvenue!</div>\r\n                        <label>Courriel</label>\r\n                        <input className=\"border rounded-2xl p-2\" type=\"email\" name=\"nom\" onChange={(e) => { setUsername(e.target.value) }} placeholder='Courriel' defaultValue={\"q@q.qq\"} required />\r\n                        <label>Mot de passe</label>\r\n                        <input className=\"border rounded-2xl p-2\" type=\"password\" name=\"motDePasse\" onChange={(e) => { setPassword(e.target.value) }} placeholder='Mot de passe' required />\r\n\r\n                        <input className='bg-slate-500 hover:bg-slate-700 text-white font-bold py-2 px-4 rounded-2xl mt-7' type='submit' value=\"Connexion\"/>\r\n                        <button className='bg-white border border-slate-500 hover:bg-gray-200 text-slate-500 font-bold py-2 px-4 rounded-2xl mt-7' onClick={() => { goToInscription() }}>Inscription</button>\r\n                        </form>                      \r\n                        {msgErreur ?? <div className='text-red-500 font-extrabold text-center'>{msgErreur}</div> }\r\n\r\n                {\r\n                    //<NavLink to=\"/homeInscription\" className='btn btn-secondary'>Inscription</NavLink>\r\n                }\r\n\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n\r\n    /**\r\n     * La fonction login permet de tenter d'obtenir une session(connexion back-end) \r\n     * avec l'utilisateur et le mot de passe inscrit dans les champs respectifs.\r\n     * Si c'est un succès, l'utilisateur est transféré avers sa page profil, \r\n     * sinon il est présenté un message d'erreur.\r\n     */\r\n    function login(e) {\r\n        e.preventDefault();\r\n        Axios.post(\"http://localhost:3001/login\", {\r\n            courriel: username,\r\n            motDePasse: password,\r\n        }).then((response) => {\r\n            if (response.data.message === \"Mauvais courriel ou mot de passe!\") {\r\n                setMessageErreur(response.data.message);\r\n            } else {\r\n                props.handleLogAndRole(true, response.data.role);\r\n                goToProfil();\r\n            }\r\n        });\r\n    };\r\n}\r\n\r\n\r\n\r\nexport default HomeScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}