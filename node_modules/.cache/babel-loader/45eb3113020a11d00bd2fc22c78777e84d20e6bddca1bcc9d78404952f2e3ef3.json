{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1867319\\\\Documents\\\\GitHub\\\\H-2023-Projet-Synthese\\\\Service_Video\\\\react_js\\\\src\\\\components\\\\adminListe\\\\AdminListeVideo.js\",\n  _s = $RefreshSig$();\nimport { React, useState } from \"react\";\nimport { ReactComponent as EditSymbol } from \"./../../images/symboles/edit.svg\";\nimport { ReactComponent as CloseSymbol } from \"./../../images/symboles/close.svg\";\nimport AdminModalVideo from \"../modals/admin/AdminModalVideo\";\nimport Axios from 'axios';\n\n/**\r\n * Affiche la liste des vidéos sur la DB.\r\n * Cet affichage permet de faire des ajout/modifications/suppression de vidéo.\r\n * @param {*} props\r\n * @param {[]} props.listShown liste des vidéos inscrit sur la DB.\r\n * @param {() => void} props.updateListeVideo Permet de relancer \"getListeAdminVideo()\" pour remettre à jour la liste.\r\n * @returns \r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AdminListeVideo(props) {\n  _s();\n  const [isAddVideo, setIsAddVideo] = useState(false);\n  const [videoModifActuel, setVideoModifActuel] = useState(null);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isAddVideo ? /*#__PURE__*/_jsxDEV(AdminModalVideo, {\n      setModalShow: () => setIsAddVideo(),\n      addVideoDone: () => addVideoDone()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 27\n    }, this) : null, videoModifActuel !== null ? /*#__PURE__*/_jsxDEV(AdminModalVideo, {\n      setModalShow: () => setVideoModifActuel(null),\n      modifVideoDone: () => modifVideoDone(),\n      videoModifActuel: videoModifActuel\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 42\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" bg-slate-500 hover:bg-slate-700 text-white font-bold py-2 px-4 rounded-2xl mt-7\",\n      onClick: () => setIsAddVideo(true),\n      children: \"Ajouter une vid\\xE9o\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"white-bx w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"my-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Titre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Forfait\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: props.listShown.map(video => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: video.titre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: video.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: video.id_forfait\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"flex flex-row\",\n            children: [/*#__PURE__*/_jsxDEV(EditSymbol, {\n              className: \"w-6 mx-2 fill-slate-500 hover:fill-slate-700\",\n              onClick: () => setVideoModifActuel(video)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(CloseSymbol, {\n              className: \"w-6  mx-1 fill-slate-500 hover:fill-slate-700\",\n              onClick: () => deleteVideo(video.id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n\n  /**\r\n   * Complète l'ajout d'un vidéo.\r\n   */\n  function addVideoDone() {\n    props.updateListeVideo();\n    setIsAddVideo(false);\n  }\n\n  /**\r\n   * Complète la modification d'un vidéo.\r\n   */\n  function modifVideoDone() {\n    props.updateListeVideo();\n    setVideoModifActuel(null);\n  }\n\n  /**\r\n   * Complète la suppression d'un vidéo.\r\n   * @param {*} id id de la vidéo à supprimer\r\n   */\n  function deleteVideo(id) {\n    Axios.delete(process.env.REACT_APP_DOMAIN + \"/AdminVideo\", {\n      data: {\n        idVideo: Number(id)\n      }\n    }).then(response => {\n      if (response.data.Video) {\n        props.updateListeVideo();\n      }\n    });\n  }\n}\n_s(AdminListeVideo, \"8fyefAFPCadYKGNYjmJ+4K98LcY=\");\n_c = AdminListeVideo;\nexport default AdminListeVideo;\nvar _c;\n$RefreshReg$(_c, \"AdminListeVideo\");","map":{"version":3,"names":["React","useState","ReactComponent","EditSymbol","CloseSymbol","AdminModalVideo","Axios","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminListeVideo","props","_s","isAddVideo","setIsAddVideo","videoModifActuel","setVideoModifActuel","children","setModalShow","addVideoDone","fileName","_jsxFileName","lineNumber","columnNumber","modifVideoDone","className","onClick","listShown","map","video","titre","description","id_forfait","deleteVideo","id","updateListeVideo","delete","process","env","REACT_APP_DOMAIN","data","idVideo","Number","then","response","Video","_c","$RefreshReg$"],"sources":["C:/Users/1867319/Documents/GitHub/H-2023-Projet-Synthese/Service_Video/react_js/src/components/adminListe/AdminListeVideo.js"],"sourcesContent":["import { React, useState } from \"react\";\r\nimport { ReactComponent as EditSymbol } from \"./../../images/symboles/edit.svg\";\r\nimport { ReactComponent as CloseSymbol } from \"./../../images/symboles/close.svg\";\r\nimport AdminModalVideo from \"../modals/admin/AdminModalVideo\";\r\nimport Axios from 'axios';\r\n\r\n/**\r\n * Affiche la liste des vidéos sur la DB.\r\n * Cet affichage permet de faire des ajout/modifications/suppression de vidéo.\r\n * @param {*} props\r\n * @param {[]} props.listShown liste des vidéos inscrit sur la DB.\r\n * @param {() => void} props.updateListeVideo Permet de relancer \"getListeAdminVideo()\" pour remettre à jour la liste.\r\n * @returns \r\n */\r\nfunction AdminListeVideo(props) {\r\n\r\n    const [isAddVideo, setIsAddVideo] = useState(false);\r\n    const [videoModifActuel, setVideoModifActuel] = useState(null);\r\n\r\n    return (\r\n        <>\r\n            {isAddVideo ? <AdminModalVideo setModalShow={() => setIsAddVideo()} addVideoDone={() => addVideoDone()} /> : null\r\n            }\r\n            {videoModifActuel !== null ? <AdminModalVideo setModalShow={() => setVideoModifActuel(null)} modifVideoDone={() => modifVideoDone()} videoModifActuel={videoModifActuel} /> : null\r\n            }\r\n            <div className=' bg-slate-500 hover:bg-slate-700 text-white font-bold py-2 px-4 rounded-2xl mt-7' onClick={() => setIsAddVideo(true)}>\r\n                Ajouter une vidéo\r\n            </div>\r\n            <table className=\"white-bx w-full\">\r\n                <thead>\r\n                    <tr className=\"my-8\">\r\n                        <th>Titre</th>\r\n                        <th>Description</th>\r\n                        <th>Forfait</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {props.listShown.map((video) => (\r\n                        <tr>\r\n                            <td>{video.titre}</td>\r\n                            <td>{video.description}</td>\r\n                            <td>{video.id_forfait}</td>\r\n                            <td className=\"flex flex-row\">\r\n                                <EditSymbol className='w-6 mx-2 fill-slate-500 hover:fill-slate-700' onClick={() => setVideoModifActuel(video)} />\r\n                                <CloseSymbol className='w-6  mx-1 fill-slate-500 hover:fill-slate-700' onClick={() => deleteVideo(video.id)} />\r\n                            </td>\r\n                        </tr>\r\n\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </>\r\n    );\r\n\r\n    /**\r\n     * Complète l'ajout d'un vidéo.\r\n     */\r\n    function addVideoDone() {\r\n        props.updateListeVideo();\r\n        setIsAddVideo(false);\r\n    }\r\n\r\n    /**\r\n     * Complète la modification d'un vidéo.\r\n     */\r\n    function modifVideoDone() {\r\n        props.updateListeVideo();\r\n        setVideoModifActuel(null);\r\n    }\r\n\r\n    /**\r\n     * Complète la suppression d'un vidéo.\r\n     * @param {*} id id de la vidéo à supprimer\r\n     */\r\n    function deleteVideo(id) {\r\n        Axios.delete(process.env.REACT_APP_DOMAIN + \"/AdminVideo\", {\r\n            data: {\r\n                idVideo: Number(id)\r\n            }\r\n        }).then((response) => {\r\n            if (response.data.Video) {\r\n                props.updateListeVideo();\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\nexport default AdminListeVideo;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}